![header](https://capsule-render.vercel.app/api?type=soft&color=auto&height=300&section=header&text=vaccine%20Reviewanddatarefinning💉&fontSize=90)<br/>
## MobileBert를 활용한 코로나 백 리뷰 감성분석 프로젝트
<img src="https://img.shields.io/badge/PyTorch-E34F26?style=flat-square&logo=PyTorch&logoColor=white"/></a>
<img src="https://img.shields.io/badge/Python-3776AB?style=flat-square&logo=Python&logoColor=white"/></a>
# COVID Vaccine Controversy Analysis by BERT 🦠
Multilingual BERT를 활용한 코로나 백신 여론 분석 프로젝트

[![PyTorch](https://img.shields.io/badge/PyTorch-E34F26?style=flat-square&logo=PyTorch&logoColor=white)](https://pytorch.org/)
[![Hugging Face](https://img.shields.io/badge/Hugging%20Face-FFD21C?style=flat-square&logo=huggingface&logoColor=black)](https://huggingface.co/)
[![Python](https://img.shields.io/badge/Python-3776AB?style=flat-square&logo=Python&logoColor=white)](https://www.python.org/)

---

## 1. 개요 및 목표 (Overview & Thesis)

### 1-1. 문제 정의 및 프로젝트의 의의
본 프로젝트는 COVID-19 팬데믹 기간 동안 온라인 커뮤니티(Reddit)에 나타난 감정적 양극화를 BERT 모델 기반의 감성 분석으로 정량화합니다.

- **핵심 목표**: 98,277건의 데이터를 분석하여 사회적 의무(Mandate) 관련 논란이 과학적 부작용보다 여론 확산에 미친 영향이 더 컸음을 입증
- **성공 지표**: 9,827건의 수동 라벨링 데이터를 기반으로 F1 Score 0.6438 달성 → 모델 신뢰성 검증

### 1-2. 프로젝트 성공 지표 (Performance Metrics)

| 지표 | 결과 값 | 통찰 (보고서 성공 지표) |
|------|---------|------------------------|
| Accuracy (정확도) | 0.8204 (82.04%) | 전반적인 감정 예측 능력이 우수함 |
| F1 Score (균형 점수) | 0.6438 (64.38%) | 74% 부정 편향 데이터에서 긍/부정 클래스를 균형 있게 분류했음을 입증 |

---

## 2. 데이터 수집 및 정제 과정 (극복의 스토리)

### 2-1. 데이터 확보 난관 및 최종 소스
본 프로젝트는  Naver, WebMD, Drugs.com 등 **6가지 크롤링/API 시도(IP 차단 문제)**를 극복하고, Reddit API를 통해 98,277건의 고품질 데이터를 확보했습니다.

## 데이터 수집 시도 및 결과 요약

| 소스 | 언어 | 수집 내용 | 결과/문제점 |
|------|------|-----------|-------------|
| **Naver 지식iN** | 한국어 | Q&A (타이레놀/피임약) | 성공: 답변 40,000건 확보함. 단, 백신과는 무관한 내용이 너무 많아 사용하기 힘들어보이고 질문 내용은 확인이 불가능하고 답변 내용만 확인이 가능해서 데이터로서 적합하지 않음|
| **Naver News 댓글** | 한국어 | 뉴스 댓글 감성 분석 | 실패: Selenium CSS 선택자 불일치 |
| **DC Inside** | 한국어 | 포럼 댓글 감성 분석 | 성공: 답변 20,000건 확보. 단, 비속어 및 백신과는 무관한 내용이 너무 많아 사용하기 힘들어보임 |
| **Reddit API (PRAW)** | 영어 | 댓글/게시글 수집 (Top Posts) | 성공: 52,827건 확보 (최종 데이터) |
| **Pushshift API** | 영어 | 대량 과거 데이터 | 실패: 403 Forbidden (서버 차단). 약 1000 건 정도만 확보함| 
| **Drugs.com** | 영어 | 전문 리뷰 | 실패: 403 IP 차단 및 Google Cache 우회 실패. 약 500 건 정도만 확보함 |
| **WebMD** | 영어 | 포럼 댓글 | 실패: 403 IP 차단. 약 6000 건 정도만 확보함 | 
| **HealthBoards** | 영어 | 포럼 댓글 | 실패: 404 URL 오류. 약 3000 건 정도만 확보함 |
| **Patient.info** | 영어 | 리뷰/포럼 | 실패: Requests 차단 취약. 약 400건 정도만 확보함 |


- **최종 소스**: Reddit과 WebMD, Pushshift, HealthBoards, Patient.info, Drugs.com을 모두 통합함 (r/Coronavirus, r/vaccine 등 Top Posts)
- **최종 규모**: 98,277건의 영문 게시글 및 댓글

### 2-2. 엄격한 데이터 전처리 과정 (정확도 82%의 근거)
BERT 모델의 고정확도를 위해 다음 3단계 필터링 적용:

1. **노이즈 및 삭제 항목 제거**: 4단어 미만 텍스트, API 수집 중 발생하는 `[No Content]`, `[deleted]` 등 무의미한 플레이스홀더 모두 제거
2. **언어 및 특수문자 필터링**: 영어 이외의 언어 비율 10% 초과 데이터, 40% 이상 특수문자로 구성된 노이즈 행 제거 → 영문 데이터 순도 향상
3. **라벨 정규화**: 수동 라벨을 BERT가 인식하도록 **Positive**와 **Negative**로 정확히 매핑

---

## 3. 핵심 분석 시각화 및 결론 (Key Visualization)

### 3-1. 전체 온라인 여론 분포 (Figure 1)
온라인 여론이 부정적 감정에 의해 3:1 비율로 지배됨을 입증

- **감정비율 (%)**
  - Negative (부정): 76.27%
  - Positive (긍정): 23.73%

### 3-2. 부정 여론의 핵심 논란 키워드 (Figure 3)
74,954건의 부정 텍스트 분석 결과, 논란의 초점은 과학이 아닌 사회적 통제에 있었음이 드러남

| 순위 | 키워드 | 언급 횟수 | 보고서 통찰 (사회적 논란의 근거) |
|------|--------|-----------|----------------------------------|
| 1 | mask / masks | 8,736회 | 방역 의무와 관련된 사회적 통제에 대한 반발이 가장 큼 |
| 2 | work | 4,868회 | 고용과 직장을 연계한 백신 의무화에 대한 불만 주요 논란 |
| 3 | right | 4,253회 | 개인의 자유와 권리 침해 주장이 부정 여론의 핵심 동력 |



# 📝 최종 보고서 스토리라인: 백신 논란의 '사회적 통제' 전환

## 1. 도입 및 문제 제기 (Introduction & Thesis)

- **배경**: COVID-19 팬데믹 기간 중 온라인 여론은 정보의 불확실성과 더불어 감정적 양극화가 극심했습니다.  
- **프로젝트 목적**: BERT 모델 기반 감성 분석을 통해, 대중의 부정적 여론이 **과학적 부작용(side effects)**에서 **사회적 의무(mandate)**로 어떻게 전환되고 증폭되었는지 정량적으로 분석 및 입증  
- **주장 (Thesis Statement)**: 백신 관련 온라인 논란은 개인의 자유와 직업적 통제에 대한 불만에서 더 크게 확산되었으며, 과학적 안전성 문제는 부차적인 논란으로 작용함

---

## 2. 정량적 분석: 여론의 규모와 강도 (The Scale of Contention)

- **분석 근거**: BERT 모델 학습 결과, F1 Score 0.6438 달성 → 높은 신뢰성 확보  
- **핵심 데이터 (Figure 1 기반)**  
  - 여론 분포: 98,277건 중 76.27%가 **부정(Negative) 감정**으로 분류  
- **스토리**: 온라인 논의는 3:1 비율로 부정 여론이 압도적이었으며, 단순 리뷰가 아닌 논쟁과 분노가 지배하는 환경임을 의미

---

## 3. 핵심 주장 입증: 논란의 원천 분석 (The Source of Anger)

- 수치 빈도 분석 결과, **'마스크/직장 의무화'**가 핵심 논란

| 순위 | 키워드 | 총 언급 횟수 | 키워드 분류 | 보고서 스토리 |
|------|--------|---------------|------------|---------------|
| 1 | mask / masks | 8,736회 | 사회적 통제 | 부정 여론의 가장 큰 동력은 백신 자체가 아닌 마스크 착용 의무와 같은 일상생활 통제였음을 입증 |
| 2 | work | 4,913회 | 직업적 의무 | 백신 접종이 직업과 고용에 연결되면서, 경제적 불이익에 대한 분노가 증폭됨 |
| 3 | right | 4,333회 | 개인 권리 | '마스크'와 'work' 논란이 결국 개인의 자유(right) 침해 주장으로 확산됨 |
| 17 | side effect | 158회 | 과학적 부작용 | 백신 자체의 공식적 부작용 언급은 사회적 의무화 논쟁보다 압도적으로 적었음 |

---

## 4. 시계열적 결론: 논란의 진화 (The Evolution of Narrative)

- **토픽 진화**: 초기에는 백신 효과나 접종 필요성 논의(2021년 Q1, 부정 비율 68.56%)가 주를 이루었으나, 점차 **마스크, 의무화 등 사회적 통제 토픽**이 압도적으로 증가  
- **결과**: 부정 비율이 90% 이상으로 치솟음 (시계열 그래프 참고)

---

## 5. 정책 제언 (Recommendation)

- **위기 커뮤니케이션**: 제약사나 정부는 부작용 데이터보다 **'직업 안정성'**이나 **'자유 침해'**와 같은 사회적 감정에 초점을 맞춘 소통 전략 수립  
- **목적**: 분노를 완화하고, 사회적 신뢰를 회복


# 🧭 공포 지수와 분석 결과 비교 (시기적 일치성)

저희가 분석한 월별 부정 감정 비율 추이는 $\text{BERT}$ 모델이 예측한 **온라인 여론의 공포 지수 (Fear Index)**를 나타냅니다.  
이 그래프의 패턴을 통해 실제 $\text{COVID}$ 상황과 온라인 여론의 일치성을 확인할 수 있습니다.

---

### 📊 공포 지수 추이 분석 (월별 부정 비율)

저희가 생성한 월별 부정 감정 비율 그래프는 $\text{r/Coronavirus}$의 활발했던 기간 동안  
온라인상의 공포 지수가 어떻게 변화했는지를 명확하게 보여줍니다.

| 기간 | 부정 비율 (%) | 실제 COVID 상황 (시기적 공포 원인) | 분석 통찰 (공포 지수) |
|:--:|:--:|:--|:--|
| 2020년 3월 - 5월 | **71.6% - 74.5%** | 팬데믹 초기 / 극심한 불확실성, 정보 부족 | 초기부터 높은 불안감 유지 |
| 2021년 1월 - 2월 | **68.56% - 70.00%** | 백신 초기 접종 시작 / 기대감과 희망이 공존 | 상대적 저점 / 백신에 대한 기대감이 공포를 일시적으로 완화 |
| 2022년 10월 | **94.44%** | 백신 의무화 지속 및 장기 부작용 논의 확산 | 최고점 / 과학적 문제가 아닌 의무화와 통제에 대한 분노가 공포 지수를 극단적으로 높임 |
| 2023년 2월 | **100.00%** | (데이터 희소 구간일 수 있으나) 접종이 의무화된 상태에서 남은 사람들의 강력한 반발만 여론으로 남음 | 극단적 양극화 / 반대 여론만 남으면서 공포 지수가 최대로 폭발 |

---

### 🔍 핵심 결론: 공포의 원인은 **'통제'**였다

**높은 Baseline:**  
저희의 분석 데이터는 백신에 대한 **온라인 여론의 기본값 (Baseline)**이 이미 **70% 이상의 높은 부정 비율**에서 시작했음을 보여줍니다.

**공포의 전환:**  
일반적인 공포 지수는 **새로운 위협(변이 바이러스)**에 반응하지만,  
저희의 감정 지수는 백신 접종이 안정화된 이후인 **2022년 후반**에 가장 높은 비율을 기록했습니다.  

이는 저희가 키워드 분석에서 입증했듯이,  
공포의 원인이 **‘바이러스’**에서 **‘마스크’**와 **‘직장 의무’**로 전환되었음을 강력하게 뒷받침합니다.

---

이 공포 지수 그래프는 보고서에서  
**“논란이 시계열적으로 어떻게 진화했는가”**를 입증하는  
가장 강력한 시각적 증거로 사용될 것입니다.
